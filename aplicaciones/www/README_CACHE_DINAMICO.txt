â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                      ğŸ‰ IMPLEMENTACIÃ“N COMPLETADA ğŸ‰
                    Sistema de Cache DinÃ¡mico para Desarrollo
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

TU PREGUNTA:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
"Â¿Es posible no tener que hacer prefetch cuando uso yarn dev y asÃ­ ver de 
inmediato mientras estoy desarrollando?"

RESPUESTA:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… SÃ. TOTALMENTE IMPLEMENTADO Y LISTO PARA USAR.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                            CÃ“MO USAR AHORA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ANTES (lo que hacÃ­as):
  1. cd aplicaciones/www
  2. yarn prebuild         â† â³ ESPERAR (necesario antes)
  3. yarn dev
  4. Hacer cambios en WordPress
  5. yarn prebuild         â† â³ ESPERAR DE NUEVO
  6. Recargar pÃ¡gina

AHORA (mucho mÃ¡s simple):
  1. cd aplicaciones/www
  2. yarn dev             â† Â¡LISTO! Los datos vienen de la API
  3. Hacer cambios en WordPress
  4. Recargar pÃ¡gina      â† Los cambios se ven inmediatamente

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                        Â¿QUÃ‰ PASÃ“ INTERNAMENTE?
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Se creÃ³ un sistema que detecta automÃ¡ticamente:

â”œâ”€ Â¿Estamos en DESARROLLO?
â”‚  â”œâ”€ SÃ â†’ Obtiene datos de la API en tiempo real
â”‚  â”‚      (historiasinternetpre.uniandes.edu.co/graphql)
â”‚  â”‚      Los cambios en WordPress se ven inmediatamente
â”‚  â”‚
â”‚  â””â”€ NO (ProducciÃ³n) â†’ Lee archivos JSON del cache
â”‚         Cero llamadas a la API
â”‚         Sitio super rÃ¡pido

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                              COMANDOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

yarn dev           â†’ Desarrollo automÃ¡tico (inteligente)
                     Usa API si no hay cache, cache si estÃ¡ disponible

yarn dev:api       â†’ Fuerza datos de la API (sin cache)
                     Datos 100% frescos de WordPress

yarn dev:cache     â†’ Fuerza cache local (necesita yarn prebuild primero)
                     MÃ¡s rÃ¡pido, no depende de API

yarn prebuild      â†’ Genera cache local (.cache/)
                     Ãštil si quieres trabajar offline

yarn build         â†’ Build para producciÃ³n
                     Hace prebuild automÃ¡ticamente
                     Sitio final es ultra rÃ¡pido

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                        ARCHIVOS QUE CAMBIARON
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ¨ NUEVOS:
  â€¢ fuente/utilidades/cache-dinamico.ts
    - LÃ³gica que detecta desarrollo vs producciÃ³n
    - Funciones async que obtienen datos de API o cache
    - Cache en memoria para mejorar performance

  â€¢ DESARROLLO.md
    - DocumentaciÃ³n tÃ©cnica completa
    - Troubleshooting y casos de uso

  â€¢ GUIA_RAPIDA.md
    - Resumen visual y simple

  â€¢ INICIO_RAPIDO.sh
    - Referencia rÃ¡pida en formato bash

ğŸ“ MODIFICADOS:
  â€¢ fuente/utilidades/cache.ts
    - Ahora re-exporta desde cache-dinamico
    - Transparente para el cÃ³digo que lo usa

  â€¢ package.json
    - Agrega scripts: dev:api, dev:cache

  â€¢ Varios archivos .astro
    - Ahora usan await con funciones de cache
    - Cambio automÃ¡tico, transparente

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                              ARQUITECTURA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                            yarn dev
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ NODE_ENV == dev? â”‚
                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”˜
                         â”‚           â”‚
                       SÃ             NO
                         â”‚           â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”    â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  API en tiempo â”‚    â”‚  Lee cache.json â”‚
           â”‚     real       â”‚    â”‚  (producciÃ³n)   â”‚
           â”‚                â”‚    â”‚                 â”‚
           â”‚ HTTP POST con  â”‚    â”‚ Archivos en:    â”‚
           â”‚ GraphQL Query  â”‚    â”‚ .cache/         â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”˜    â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚           â”‚
                         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Datos listos    â”‚
                    â”‚  para renderizar â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                          BENEFICIOS PRINCIPALES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… DESARROLLO MÃS RÃPIDO
   No esperas a que termine prefetch
   Cambios en WordPress visibles inmediatamente

âœ… DATOS FRESCOS
   Llamadas directas a la API GraphQL
   100% actualizado

âœ… FLEXIBLE
   Elige entre API o cache local
   SegÃºn lo que necesites

âœ… PRODUCCIÃ“N IGUAL
   yarn build funciona exactamente igual
   Sitio final es igual de rÃ¡pido

âœ… RETROCOMPATIBLE
   Todo el cÃ³digo existente funciona
   Sin cambios visibles para el usuario

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                        CAMBIOS EN EL CÃ“DIGO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Todas las funciones de cache ahora son ASYNC:

ANTES:
  const personajes = obtenerPersonajes();
  const documentos = obtenerDocumentos();
  const pagina = obtenerPagina('inicio');

AHORA:
  const personajes = await obtenerPersonajes();
  const documentos = await obtenerDocumentos();
  const pagina = await obtenerPagina('inicio');

âœ… Esto ya estÃ¡ aplicado en todos los archivos .astro
âœ… El cambio es transparente y automÃ¡tico

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                      EJEMPLOS DE USO PRÃCTICO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ESCENARIO 1: Desarrollo activo con cambios en WordPress
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
$ cd aplicaciones/www
$ yarn dev              â† Obtiene de la API en tiempo real

Luego:
1. Haces cambios en WordPress
2. Recarga la pÃ¡gina (F5)
3. Ves los cambios inmediatamente
Â¡Sin hacer yarn prebuild!

ESCENARIO 2: Desarrollo offline o sin dependencias externas
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
$ cd aplicaciones/www
$ yarn prebuild         â† Una sola vez, genera cache
$ yarn dev              â† Usa cache local
$ yarn dev:cache        â† O fuerza cache explÃ­citamente

RÃ¡pido, sin depender de la API.

ESCENARIO 3: Build para producciÃ³n
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
$ cd aplicaciones/www
$ yarn build            â† Ejecuta prebuild + astro check + astro build
                           Sitio final es super rÃ¡pido

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                        PREGUNTAS FRECUENTES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

P: Â¿Necesito hacer algo especial?
R: No. Solo usa `yarn dev` como siempre. Todo es automÃ¡tico.

P: Â¿FuncionarÃ¡ igual el yarn build?
R: SÃ­, exactamente igual. ProducciÃ³n es igual.

P: Â¿Los datos son frescos?
R: SÃ­, en desarrollo obtiene directamente de WordPress.

P: Â¿QuÃ© pasa sin conexiÃ³n a internet?
R: La API fallarÃ¡. SoluciÃ³n: yarn prebuild && yarn dev (usa cache local)

P: Â¿Es compatible con el cÃ³digo actual?
R: 100%. Todos los cambios son transparentes.

P: Â¿QuÃ© hace el cache en memoria?
R: Almacena datos durante la sesiÃ³n para no re-consultar lo mismo.

P: Â¿Puedo usar cache local en desarrollo?
R: SÃ­, ejecuta yarn prebuild && yarn dev

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                      VERIFICACIÃ“N RÃPIDA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Para verificar que funciona:

1. cd aplicaciones/www

2. rm -r .cache          (Elimina cache, opcional)

3. yarn dev              (Inicia servidor con API en tiempo real)

4. Abre http://localhost:3000

5. Haz un cambio en WordPress

6. Recarga la pÃ¡gina (F5)

7. Â¿Ves el cambio? âœ… Â¡FUNCIONA!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                        DOCUMENTACIÃ“N DISPONIBLE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“„ DESARROLLO.md
   GuÃ­a tÃ©cnica completa con detalles internos

ğŸ“„ GUIA_RAPIDA.md
   Resumen visual y simple

ğŸ“„ CAMBIOS_DESARROLLO.md (raÃ­z)
   DocumentaciÃ³n completa de todos los cambios

ğŸ“„ INICIO_RAPIDO.sh
   Referencia rÃ¡pida en formato bash

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                          Â¡LISTO PARA USAR!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Simplemente:

  $ cd aplicaciones/www
  $ yarn dev
  $ # Â¡Desarrolla sin fricciÃ³n! ğŸš€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                     Ãšltima actualizaciÃ³n: Diciembre 2024
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
